# Tree

> 트리, 이진트리, 트리 탐색, 트리 순회



## 트리

#### 개념

- 비선형 구조
- 원소들 간에 1:n 관계를 가지는 구조
- 원소들 간에 계층 관계를 가지는 계층형 자료구조
- 상위 원소에서 하위 원소로 내려가면서 확장되는 트리 모양의 구조



#### 정의

- 노드(node) - 트리의 원소
- 한 개 이상의 노드로 이루어진 유한 집합이며 다음 조건을 만족한다.
  - 노드 중 최상위 노드를 루트(root)라 한다.
  - 나머지 노드들은 서브 트리 T1, ..., Tn으로 분리될 수 있다.



#### 용어

- 노드(node) - 트리의 원소
- 간선(edge) - 노드와 노드를 연결하는 선으로 부모 노드와 자식 노드를 연결
- 루트 노드(root node) - 트리의 시작 노드인 최상위 노드
- 형제 노드(sibling node) - 같은 부모 노드의 자식 노드들
- 조상 노드 - 간선을 따라 루트 노드까지 이르는 경로에 있는 모든 노드들
- 서브 트리(subtree) - 부모 노드와 연결된 간선을 끊었을 때 생성되는 트리
- 자손 노드 - 서브 트리에 있는 하위 레벨의 노드들
- 차수(degree)
  - 노드의 차수: 노드에 연결된 자식 노드의 수
  - 트리의 차수: 트리에 있는 노드의 차수 중에서 가장 큰 값
  - 단말 노드(leaf node): 차수가 0인 노드. 즉, 자식 노드가 없는 노드
- 높이
  - 노드의 높이: 루트에서 노드에 이르는 간선의 수. 노드의 레벨
  - 트리의 높이: 트리에 있는 노드의 높이 중에서 가장 큰 값. 최대 레벨



## 이진트리

#### 개념

- 차수가 2인 트리
- 모든 노드가 최대 2개의 서브트리를 가짐
- 높이 i에서 노드의 최대 개수는 2^i개



#### 종류

##### Full Binary Tree

- 모든 레벨에 노드가 가득 차 있는 이진 트리
- 정해진 위치에 대해 정해진 노드 번호를 가짐



##### Complete Binary Tree

- 루트부터 마지막 노드까지 빈자리가 없는 이진트리
- 왼쪽부터 채워나감



##### Skewed Binary Tree

- 한쪽 방향의 자식 노드만을 가진 이진 트리



#### 배열을 이용한 표현

##### 방법

- 루트 번호를 1로 하고 그 뒤로 왼쪽부터 오른쪽으로 순서대로 번호를 매김
- 노드 번호의 성질 (노드 번호가 i일때)
  - 부모 노드 : i/2
  - 왼쪽 자식 노드 : 2*i
  - 오른쪽 자식 노드 : 2*i + 1
  - 레벨 n의 시작 노드 번호 : 2^n



##### 단점

- Complete binary tree, Full binary tree를 표현할 때 유용함
- Skewed binary tree를 사용할 경우 메모리 공간 낭비가 심함
- 트리 중간에 노드를 삽입하거나 삭제할 경우 배열 크기 변경이 어려워 비효율적



## 트리 탐색

> 트리, 그래프의 각 노드를 중복되지 않게 전부 방문하는 것 (완전 탐색)
>
> BFS, DFS

#### BFS (Breath First Search)

- 루트 노드의 자식 노드들을 먼저 차례로 방문, 방문했던 자식 노드들을 기준으로 다시 해당 노드의 자식 노드들을 차례로 방문
- Queue를 활용

```
BFS()
	큐 생성
	루트 v를 큐에 삽입
	while (큐가 비어있지 않은 경우) {
		t = 큐의 첫번째 원소 반환
		t방문
		for (t와 연결된 모든 간선에 대해) {
			u = t의 자식노드
			u를 큐에 삽입
		}
	}
end BFS()
```



#### DFS (Depth First Search)

- 루트 노드에서 출발해서 한 방향으로 갈 수 있는 경로가 있는 곳까지 깊이 탐색해 가다가 더 이상 갈 곳이 없게되면, 가장 마지막에 만났던 갈림길 간선이 있는 노드로 되돌아와 다른 방향의 노드로 탐색을 반복
- 재귀적으로 구현하거나 스택을 사용해서 구현

```
DFS(v)
	v방문
	for(v의 모든 자식노드 w) {
		DFS(w)
	}
```



## 이진트리 순회(traversal)

> 트리의 노드들을 체계적으로 방문하는 것

##### 기본 순회방법

- 전위순회(preorder traversal)   : CLR

  ```
  preorder(T)
  	if (T is not null)
  	{
  		visit(T);
  		preorder(T.left);
  		preorder(T.right);
  	}
  ```

- 중위순회(inorder traversal)      : LCR

  ```
  inorder(T)
  	if (T is not null)
  	{
  		inorder(T.left);
  		visit(T);		
  		inorder(T.right);
  	}
  ```

- 후위순회(postorder traversal) : LRC

  ```
  postorder(T)
  	if (T is not null)
  	{
  		postorder(T.left);
  		postorder(T.right);
  		visit(T);
  	}
  ```


